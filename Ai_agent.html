<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chatbot</title>
<style>
    body { font-family: Arial, sans-serif; background: #f0f2f5; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
    #chat-container { background: white; padding: 20px; border-radius: 10px; width: 100%; max-width: 500px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
    #messages { height: 300px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 5px; margin-bottom: 10px; background: #fafafa; }
    .message { margin: 5px 0; }
    .user { color: blue; }
    .ai { color: green; }
    #input-container { display: flex; }
    #user-input { flex: 1; padding: 10px; border-radius: 5px; border: 1px solid #ccc; }
    #send-btn { padding: 10px 15px; margin-left: 5px; border: none; background: #007bff; color: white; border-radius: 5px; cursor: pointer; }
</style>
</head>
<body>

<div id="chat-container">
    <div id="messages"></div>
    <div id="input-container">
        <input type="text" id="user-input" placeholder="Type your message here..." />
        <button id="send-btn">Send</button>
    </div>
</div>

<script>
// Replace YOUR_API_KEY_HERE with your Groq API token
const API_KEY = "YOUR_API_KEY";

// Function to ask the Groq API
async function askGroq(prompt) {
    try {
        const response = await fetch("https://api.groq.com/openai/v1/chat/completions", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Authorization": `Bearer ${API_KEY}`
            },
            body: JSON.stringify({
                model: "llama-3.1-8b-instant",
                messages: [
                    { role: "system", content: "You are a helpful AI assistant." },
                    { role: "user", content: prompt }
                ],
                temperature: 0.7,
                max_tokens: 512
            })
        });

        const data = await response.json();

        if (data.choices && data.choices.length > 0) {
            return data.choices[0].message.content;
        } else if (data.error) {
            return `API Error: ${data.error.message}`;
        } else {
            return "No valid response from Groq API.";
        }
    } catch (err) {
        console.error("Error:", err);
        return "Network or parsing error.";
    }
}

// UI Elements
const messagesDiv = document.getElementById("messages");
const input = document.getElementById("user-input");
const sendBtn = document.getElementById("send-btn");

// Add message to chat
function addMessage(text, sender) {
    const div = document.createElement("div");
    div.classList.add("message", sender);
    div.textContent = text;
    messagesDiv.appendChild(div);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

// Handle sending message
async function sendMessage() {
    const text = input.value.trim();
    if (!text) return;

    addMessage(text, "user");
    input.value = "";

    const reply = await askGroq(text);
    addMessage(reply, "ai");
}

// Event listeners
sendBtn.addEventListener("click", sendMessage);
input.addEventListener("keypress", (e) => {
    if (e.key === "Enter") sendMessage();
});
</script>

</body>
</html>
